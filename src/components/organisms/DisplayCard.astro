---
export interface Props {
	title: string
	subtitle: string
	featured?: boolean

	link?: string;
	image?: string
}

import Headline from '$atoms/Headline'
import Icon from '$atoms/Icon.astro'

const { title, subtitle, link = '/', featured = false, image } = Astro.props
---

<div
	style={`background-image: url('${image}');`}
	class="displayCard"
>
	<a href={link} class="clickableOverlay" />
	<div class="content">
		{featured && (
			<div class="tag">
				Featured
			</div>
		)}
		<a href={link} class="cta">
			<Headline small noSpacing title={title} subtitle={subtitle} />
			<Icon name="chevron-right" size={30} />
		</a>
	</div>
</div>

<style lang="scss">
.displayCard {
	--primary-a: #fff;
	--secondary-b: rgba(255, 255, 255, 0.7);

	display: flex;
	flex-direction: column;
	justify-content: flex-end;
	align-items: flex-start;
	padding: 24px;

	width: calc(100% + (2 * var(--content-inset)));
	margin-left: calc(-1 * var(--content-inset));
	margin-right: calc(-1 * var(--content-inset));

	background-color: black;
	background-repeat: no-repeat;
	background-position: center center;
	background-size: cover;
	color: white;
	height: 294px;

	padding: 18px;
	padding-left: 24px;

	margin-top: 18px;

	position: relative;

	.clickableOverlay {
		position: absolute;
		
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		
		width: 100%;
		height: 100%;

		z-index: 1;
	}

	.content {
		z-index: 2;

		display: flex;
		justify-self: flex-end;
		align-self: stretch;

		flex-flow: column nowrap;

		.tag {
			display: flex;
			justify-content: center;
			align-items: center;

			padding: 4px 10px;

			margin-left: -6px;
			margin-bottom: 12px;

			border-radius: 24px;
			border: 1px solid currentColor;

			text-transform: uppercase;
			font-size: 14px;
			line-height: 18px;

			align-self: flex-start;

			z-index: 0;
		}

		.cta {
			display: flex;
			width: 100%;

			flex-flow: row nowrap;
			justify-content: space-between;
			align-items: flex-start;
		}
	}
}
</style>
